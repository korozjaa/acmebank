# Java Assignment

## Onegini Java Developer

Acme Bank Inc. is a biggest bank on Banana Island. They have always been very traditional. Recently they heard that transformation towards online services could save them a lot of their revenue so they decided to try it out.

As a software developer with the highest reputation on the island you&#39;ve been selected to create the new software for Acme Bank Inc. The specification says that they need an application that would calculate and store money balance for the user. The user should be able to increase, decrease and check the balance on the account as well as check the list of transactions. Decreasing the balance corresponds to money withdrawal therefore it should be additionally protected by one time password (token) generated by the application. In order to decrease the balance in the first step one time password must be fetched and then it must be used in balance decrease request.

The bankers on the island do not have any experience creating the software requirements specification so they had no clue how to prepare a complete, thorough documentation. People on Banana Island are also very happy in their simple daily life, that&#39;s why the documentation describes happy paths only. For these reasons some details might need to be figured out by the developer.

Acme Bank Inc. expressed they expectations in the following table:

| **Request** | **Sample successful response** | **Description** |
| --- | --- | --- |
| GET /balance/user/&lt;userId&gt; | HTTP 200 OK Content-Type: application/json { &quot;value&quot;: 400 }  | Returns the current balance value for the specified user. |
| GET /history/user/&lt;userId&gt; | HTTP 200 OK Content-Type: application/json { &quot;transactions&quot;: [    {       &quot;type&quot;:&quot;increase&quot;,      &quot;value&quot;:600,    },    {       &quot;type&quot;:&quot;increase&quot;,      &quot;value&quot;:300,    },    {       &quot;type&quot;:&quot;decrease&quot;,      &quot;value&quot;:500,    } ]}  | Returns the history of the transactions. The array is ordered from the first transaction. |
| POST /balance/user/&lt;userId&gt;/increase Headers: Content-Type: application/json Body: {   &quot;value&quot;: 100}  | HTTP 200 OK   | Performs balance increase operation for the specified user. |
| POST /balance/user/&lt;userId&gt;/decrease Headers: Content-Type: application/json Body: {   &quot;value&quot;: 100,  &quot;token&quot;: &quot;3a81de&quot;}  | HTTP 200 OK   | Performs balance decrease operation for the specified user. The operation is secured using one time password generated using the other endpoint. |
| POST /tokens/user/&lt;userId&gt; | HTTP 201 Created Content-Type: application/json { &quot;token&quot;: &quot;3a81de&quot; }  | Generates one time password that can be used to secure other operations. |

Your task is to create microservice with REST interface. The following hints may help you to create the application:

- Should be implemented in Java
- Spring is preferred framework although not required
- Persistence is not required
- No request is required to create user
- Consider additional features to improve the security of the solution

As soon as you create the application please provide us with the source code. We hope to meet you again soon.

Kind regards

Onegini

(On behalf of Acme Bank Inc.)